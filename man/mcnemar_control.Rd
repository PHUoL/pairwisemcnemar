% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mcnemar_control.R
\name{mcnemar_control}
\alias{mcnemar_control}
\title{Compare a control with one or more treatments using McNemar tests}
\usage{
mcnemar_control(
  data,
  id,
  condition,
  outcome,
  control,
  treatments = NULL,
  method = c("asymptotic", "cc", "midp"),
  p_adjust = c("holm", "BH", "hochberg"),
  ci = 0.95,
  outcome_levels = NULL,
  drop_na = TRUE,
  quiet = FALSE
)
}
\arguments{
\item{data}{A data frame in long format.}

\item{id}{Name of the subject identifier column (character).}

\item{condition}{Name of the condition column (character) containing control and treatments.}

\item{outcome}{Name of the binary outcome column (character).}

\item{control}{The control level (value in \code{condition}).}

\item{treatments}{Optional vector of treatment levels. Default: all levels except \code{control}.}

\item{method}{McNemar method: one of \code{"asymptotic"} (default), \code{"cc"}, \code{"midp"}.}

\item{p_adjust}{Multiple-testing adjustment: \code{"holm"} (default), \code{"BH"}, or \code{"hochberg"}.}

\item{ci}{Confidence level for Cohen's \emph{g} CI. Default 0.95.}

\item{outcome_levels}{Optional length-2 character vector giving outcome levels order.}

\item{drop_na}{Logical; if \code{TRUE}, drop pairs missing control or treatment outcome.}

\item{quiet}{Logical; if \code{FALSE}, message/warn for common edge cases.}
}
\value{
An object of class \code{"mcnemarControl"} with elements \code{results} and \code{settings}.
}
\description{
Runs paired 2x2 McNemar tests comparing a \emph{control} condition with one or more
\emph{treatment} conditions from \strong{long-format} data.
}
\details{
\strong{Interpreting the McNemar test statistic (\code{Z}) across methods:}
For \code{method = "asymptotic"}, \code{Z} is signed (negative or positive) because it is computed
from the difference of discordant counts (proportional to \code{b - c}).
For \code{method = "cc"}, the continuity-corrected statistic uses \code{abs(b - c)} and therefore
returns a non-negative \code{Z}, which should be interpreted as a magnitude-only statistic.
In both cases, the default p-value is two-sided and depends on \code{abs(Z)}, so the sign of
\code{Z} does not affect the p-value.
}
\examples{
dat <- mcnemar_example_long(seed = 1)
fit <- mcnemar_control(dat, id = "id", condition = "condition", outcome = "outcome",
                       control = "Control")
summary(fit)

}
\references{
Fagerland MW, Lydersen S, Laake P (2017). \emph{Statistical Analysis of Contingency Tables}.
Chapman & Hall/CRC.

See also \code{\link[contingencytables]{McNemar_asymptotic_test_paired_2x2}} and
\code{\link[contingencytables]{McNemar_asymptotic_test_CC_paired_2x2}}.
}
